
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A blog about selfhosting, unRAID and Linux ISOs">
      
      
        <meta name="author" content="GilbN">
      
      
        <link rel="canonical" href="https://docs.theme-park.dev/blog/blocking-countries-with-geolite2-using-the-letsencrypt-docker-container/">
      
      
        <link rel="prev" href="../how-to-setup-grafana-influxdb-and-telegraf-to-monitor-your-unraid-system/">
      
      
        <link rel="next" href="../howto-setup-gitlab-to-use-rack-attack-to-ban-abusive-ips/">
      
      <link rel="icon" href="../../logo.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>Blocking countries with GeoLite2 in nginx using the swag/letsencrypt docker container - technicalramblings.com</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blocking-countries-with-geolite2-in-nginx-using-the-swagletsencrypt-docker-container" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://technicalramblings.com" title="technicalramblings.com" class="md-header__button md-logo" aria-label="technicalramblings.com" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            technicalramblings.com
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Blocking countries with GeoLite2 in nginx using the swag/letsencrypt docker container
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/GilbN/technicalramblings.com" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    technicalramblings.com
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../how-to-add-a-custom-login-page-for-unraid/" class="md-tabs__link md-tabs__link--active">
        Blog
      </a>
    </li>
  

  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../about/" class="md-tabs__link">
      About
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="/discord" class="md-tabs__link">
      Support
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://github.com/sponsors/GilbN" class="md-tabs__link">
      Donate
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://theme-park.dev" class="md-tabs__link">
      theme.park
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://technicalramblings.com" title="technicalramblings.com" class="md-nav__button md-logo" aria-label="technicalramblings.com" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    technicalramblings.com
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GilbN/technicalramblings.com" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    technicalramblings.com
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          2021
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          2021
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-add-a-custom-login-page-for-unraid/" class="md-nav__link">
        How to add a custom login page for Unraid!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-add-dark-mode-to-any-app-with-this-one-simple-trick/" class="md-nav__link">
        How to add dark mode to any app with this one simple trick!
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          2020
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          2020
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualizing-nginx-geo-data-metrics-with-python-influxdb-and-grafana/" class="md-nav__link">
        Visualizing Nginx geo data metrics  with Python, InfluxDB and Grafana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blocking-ssh-connections-with-the-geolite2-database/" class="md-nav__link">
        Blocking SSH Connections with the GeoLite2 Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-setup-a-ghost-site-with-letsencrypt-and-mariadb-on-unraid/" class="md-nav__link">
        How to setup a Ghost blog on Unraid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-route-different-metrics-in-telegraf-to-different-influx-databases/" class="md-nav__link">
        How to route metrics in Telegraf to different Influx databases
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          2019
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          2019
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring-your-ups-stats-and-cost-with-influxdb-and-grafana-on-unraid-telegraf-edition/" class="md-nav__link">
        Monitoring your UPS stats and cost with InfluxDB and Grafana on Unraid - Telegraf Edition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring-your-ups-stats-and-cost-with-influxdb-and-grafana-on-unraid-nut-edition/" class="md-nav__link">
        Monitoring your UPS stats and cost with InfluxDB and Grafana on Unraid - NUT Edition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-add-email-notifications-to-fail2ban/" class="md-nav__link">
        How to add email notifications to Fail2ban
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redirecting-visitors-to-a-403-forbidden-page-when-accessing-the-wordpress-admin-page/" class="md-nav__link">
        Redirecting visitors to a 403 forbidden page when accessing the WordPress admin page
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-setup-a-cloudflare-worker-to-show-a-maintenance-page-when-ca-backup-plugin-is-running/" class="md-nav__link">
        How to setup a Cloudflare worker to show a maintenance page when the CA Backup plugin is running on Unraid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring-your-ups-stats-and-cost-with-influxdb-and-grafana-on-unraid-2019-edition/" class="md-nav__link">
        Monitoring your UPS stats and cost with InfluxDB and Grafana on Unraid - Apcupsd Container Edition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-setup-grafana-influxdb-and-telegraf-to-monitor-your-unraid-system/" class="md-nav__link">
        How to setup Grafana, InfluxDB and Telegraf to monitor your unRAID system
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Blocking countries with GeoLite2 in nginx using the swag docker container
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Blocking countries with GeoLite2 in nginx using the swag docker container
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#geolite2-database" class="md-nav__link">
    GeoLite2 database
  </a>
  
    <nav class="md-nav" aria-label="GeoLite2 database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    NGINX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-geo-blocks" class="md-nav__link">
    Multiple geo blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocked" class="md-nav__link">
    Blocked
  </a>
  
    <nav class="md-nav" aria-label="Blocked">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-this-database-gets-updated" class="md-nav__link">
    TIP! This database gets updated
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudflare" class="md-nav__link">
    Cloudflare
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatically-updating-the-cf_real-ipconf" class="md-nav__link">
    Automatically updating the cf_real-ip.conf
  </a>
  
    <nav class="md-nav" aria-label="Automatically updating the cf_real-ip.conf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-you-need-any-extra-help-join-the-discord-server" class="md-nav__link">
    If you need any extra help join the Discord server
  </a>
  
    <nav class="md-nav" aria-label="If you need any extra help join the Discord server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howto-setup-gitlab-to-use-rack-attack-to-ban-abusive-ips/" class="md-nav__link">
        How to setup GitLab to use Rack Attack and ban abusive IPs and rate limit requests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migrating-view-history-between-two-plex-servers-avoiding-negative-unwatched-count/" class="md-nav__link">
        Migrating/Merging View History between two Plex Servers - Avoiding Negative Unwatched Count
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-ban-unban-notifications-from-fail2ban-to-discord/" class="md-nav__link">
        Adding ban/unban notifications from Fail2Ban to Discord!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-ban-unban-notifications-from-fail2ban-with-pushover/" class="md-nav__link">
        Adding ban/unban notifications from Fail2Ban to Pushover!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../spice-up-your-homepage-part-ii/" class="md-nav__link">
        Spice up your homepage Part II
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          2018
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          2018
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cloudflare-fail2ban-integration-with-automated-set_real_ip_from-in-nginx/" class="md-nav__link">
        How to setup Cloudflare and fail2ban with automated “set_real_ip_from” in nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../optimizing-php-fpm-to-get-faster-load-times-of-tabs-in-organizr/" class="md-nav__link">
        Optimizing PHP-FPM to get faster load times of tabs in Organizr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../remotely-accessing-the-unraid-gui-with-guacamole-and-vnc-web-browser/" class="md-nav__link">
        Remotely accessing the Unraid GUI with Guacamole and VNC Web Browser
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          2017
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          2017
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../spice-up-your-homepage/" class="md-nav__link">
        Spice up your homepage!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../my-unraid-server/" class="md-nav__link">
        My unRAID Server
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="/discord" class="md-nav__link">
        Support
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/sponsors/GilbN" class="md-nav__link">
        Donate
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://theme-park.dev" class="md-nav__link">
        theme.park
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#geolite2-database" class="md-nav__link">
    GeoLite2 database
  </a>
  
    <nav class="md-nav" aria-label="GeoLite2 database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx" class="md-nav__link">
    NGINX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-geo-blocks" class="md-nav__link">
    Multiple geo blocks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocked" class="md-nav__link">
    Blocked
  </a>
  
    <nav class="md-nav" aria-label="Blocked">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tip-this-database-gets-updated" class="md-nav__link">
    TIP! This database gets updated
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudflare" class="md-nav__link">
    Cloudflare
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatically-updating-the-cf_real-ipconf" class="md-nav__link">
    Automatically updating the cf_real-ip.conf
  </a>
  
    <nav class="md-nav" aria-label="Automatically updating the cf_real-ip.conf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-you-need-any-extra-help-join-the-discord-server" class="md-nav__link">
    If you need any extra help join the Discord server
  </a>
  
    <nav class="md-nav" aria-label="If you need any extra help join the Discord server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div><h1 id="blocking-countries-with-geolite2-in-nginx-using-the-swagletsencrypt-docker-container">Blocking countries with GeoLite2 in nginx using the swag/letsencrypt docker container<a class="headerlink" href="#blocking-countries-with-geolite2-in-nginx-using-the-swagletsencrypt-docker-container" title="Permanent link">¶</a></h1>
<p><small>Written: 2019-07-01</small></p>
<p><small>Tags</small></p>
<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">geoblock</a>
</p>

<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">geoip</a>
</p>

<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">geoip2</a>
</p>

<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">geolite2</a>
</p>

<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">letsencrypt</a>
</p>

<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">nginx</a>
</p>

<p style="display:inline">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">swag</a>
</p>

<p><small>Category</small></p>
<p style="display:inline;">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">backend</a>
</p>

<p style="display:inline;">
<a style="padding: .125em 1em; border-radius: 25px; margin-top:5px;" class="md-button md-button--primary" href="#">security</a>
</p>

<p><img src="images/Blocking-countries-with-GeoLite2-in-nginx-using-the-letsencrypt-docker-container.jpg"></p>
<p>Since the GeoLite legacy database has been <a href="https://blog.maxmind.com/2018/01/02/discontinuation-of-the-geolite-legacy-databases/">discontinued</a>, we now have to use the GeoLite2 database to get new updates to the database. This will be a followup article from the <a href="https://technicalramblings.com/blog/blocking-countries-with-geoip2-using-the-letsencrypt-docker-container/">post</a> i made about the legacy database. As the new GeoLite2 database uses a new format (<a href="https://github.com/maxmind/libmaxminddb">maxminddb</a>) we couldn't just switch to the new database. Nginx also needed to be compiled with the <a href="https://github.com/leev/ngx_http_geoip2_module">geoip2 modul.</a> And with Aptalca's <a href="https://github.com/alpinelinux/aports/pull/6762">pull request</a> on the alpine repo added it will just be a matter of a minor update to the <strong><code>nginx.conf</code></strong> file!</p>
<h2 id="geolite2-database">GeoLite2 database<a class="headerlink" href="#geolite2-database" title="Permanent link">¶</a></h2>
<div class="admonition tip">
<p class="admonition-title">Update</p>
<p>As of 15.05.20 you can add the variable -e <strong>MAXMINDDB_LICENSE_KEY</strong> = <lisencekey> to have the container download the database and update it weekly!"</lisencekey></p>
</div>
<p><strong>As of 12/30/19 you have to sign up to Maxmind to be able to download the database.</strong> <a href="https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases/">https://blog.maxmind.com/2019/12/18/significant-changes-to-accessing-and-using-geolite2-databases/</a></p>
<p>Create an account and go to your account page to download the database.</p>
<p><a href="images/chrome_HGOgG8aZM9.png"><img alt="" src="images/chrome_HGOgG8aZM9.png"></a></p>
<p>Download the database and extract the .mmdb file to the folder of you choice. I'll be using <code>/config/geoip2db/</code> for my setup.</p>
<h3 id="nginx">NGINX<a class="headerlink" href="#nginx" title="Permanent link">¶</a></h3>
<p>In the latest version of <strong>nginx.conf</strong> there is now a line that says <code>#include /config/nginx/geoip2.conf;</code> Uncomment that line. If you dont have that line, you can just add it.</p>
<p>Open the <code>geoip2.conf</code> file and find the line that says <code>map $geoip2_data_country_iso_code $allowed_country {</code> As it says <code>default</code> must be either yes or no. To block everything set it <strong>no</strong>. Add the country codes you want to allow accessfrom <strong><a href="http://dev.maxmind.com/geoip/legacy/codes/iso3166/">this</a></strong> list. e.g. <strong><code>US yes;</code></strong> This will block all other countries than the one you choose. You can also add more than one country if you want. Like this:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># GEOIP2 COUNTRY CONFIG</span>
<span class="k">map</span><span class="w"> </span><span class="nv">$geoip2_data_country_iso_code</span><span class="w"> </span><span class="nv">$allowed_country</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">default</span><span class="w"> </span><span class="s">no</span><span class="p">;</span>
<span class="w">    </span><span class="kn">US</span><span class="w"> </span><span class="s">yes</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Now since we have set default to no, you will need to add the local ip ranges that you want to allow access in the <strong><code>$allow_list</code></strong> variable below. Like this:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ALLOW LOCAL ACCESS</span>
<span class="k">geo</span><span class="w"> </span><span class="nv">$allow_list</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">default</span><span class="w"> </span><span class="s">no</span><span class="p">;</span>
<span class="w">    </span><span class="kn">192.168.1.0/24</span><span class="w"> </span><span class="s">yes</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Remember to also set default to <strong><code>no</code></strong> in in the <strong><code>$allow_list</code></strong></p>
<p>Check out <a href="https://www.aelius.com/njh/subnet_sheet.html">https://www.aelius.com/njh/subnet_sheet.html</a> if you are wondering what your <strong><a href="https://www.digitalocean.com/community/tutorials/understanding-ip-addresses-subnets-and-cidr-notation-for-networking">CIDRnotation</a></strong> is. Most often it will be <strong>/24</strong> (netmask 255.255.255.0) To find your netmask run <strong><code>ipconfig /all</code></strong> on windows or <strong><code>ifconfig | grep netmask</code></strong> on linux.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>ALLOW LOCAL ACCESS</code> part is only needed if you set default to no in the <code>map $geoip2_data_country_iso_code</code>config.</p>
</div>
<p>Setting default to <code>no</code> means that it will block any IP addresses from the database not set to <code>yes</code>, even local ones.</p>
<p>For it to actually block you need to add this in your <strong><code>server blocks</code></strong> inside the <code>proxy-confs</code> and <code>site-confs</code> folder:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="s">(</span><span class="nv">$allow_list</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">yes)</span><span class="w"> </span><span class="p">{</span>
<span class="kn">set</span><span class="w"> </span><span class="nv">$allowed_country</span><span class="w"> </span><span class="s">yes</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span><span class="w"> </span><span class="s">(</span><span class="nv">$allowed_country</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">no)</span><span class="w"> </span><span class="p">{</span>
<span class="kn">return</span><span class="w"> </span><span class="mi">444</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Here is an example using the <code>unifi-controller.subdomain.conf</code> in <code>proxy-confs</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">443</span><span class="w"> </span><span class="s">ssl</span><span class="p">;</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="s">[::]:443</span><span class="w"> </span><span class="s">ssl</span><span class="p">;</span>

<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">unifi.*</span><span class="p">;</span>

<span class="w">    </span><span class="kn">include</span><span class="w"> </span><span class="s">/config/nginx/ssl.conf</span><span class="p">;</span>

<span class="c1">#COUNTRY GEO BLOCK </span>
<span class="w">    </span><span class="kn">if</span><span class="w"> </span><span class="s">(</span><span class="nv">$allow_list</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">yes)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="kn">set</span><span class="w"> </span><span class="nv">$allowed_country</span><span class="w"> </span><span class="s">yes</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span><span class="w">    </span>
<span class="w">    </span><span class="kn">if</span><span class="w"> </span><span class="s">(</span><span class="nv">$allowed_country</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">no)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">return</span><span class="w"> </span><span class="mi">444</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">client_max_body_size</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="c1"># enable for ldap auth, fill in ldap details in ldap.conf</span>
<span class="w">    </span><span class="c1">#include /config/nginx/ldap.conf;</span>

<span class="w">    </span><span class="c1"># enable for Authelia</span>
<span class="w">    </span><span class="c1">#include /config/nginx/authelia-server.conf;</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1"># enable the next two lines for http auth</span>
<span class="w">        </span><span class="c1">#auth_basic "Restricted";</span>
<span class="w">        </span><span class="c1">#auth_basic_user_file /config/nginx/.htpasswd;</span>

<span class="w">        </span><span class="c1"># enable the next two lines for ldap auth</span>
<span class="w">        </span><span class="c1">#auth_request /auth;</span>
<span class="w">        </span><span class="c1">#error_page 401 =200 /ldaplogin;</span>

<span class="w">        </span><span class="c1"># enable for Authelia</span>
<span class="w">        </span><span class="c1">#include /config/nginx/authelia-location.conf;</span>

<span class="w">        </span><span class="kn">include</span><span class="w"> </span><span class="s">/config/nginx/proxy.conf</span><span class="p">;</span>
<span class="w">        </span><span class="kn">resolver</span><span class="w"> </span><span class="mi">127</span><span class="s">.0.0.11</span><span class="w"> </span><span class="s">valid=30s</span><span class="p">;</span>
<span class="w">        </span><span class="kn">set</span><span class="w"> </span><span class="nv">$upstream_app</span><span class="w"> </span><span class="s">unifi-controller</span><span class="p">;</span>
<span class="w">        </span><span class="kn">set</span><span class="w"> </span><span class="nv">$upstream_port</span><span class="w"> </span><span class="mi">8443</span><span class="p">;</span>
<span class="w">        </span><span class="kn">set</span><span class="w"> </span><span class="nv">$upstream_proto</span><span class="w"> </span><span class="s">https</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="nv">$upstream_proto://$upstream_app:$upstream_port</span><span class="p">;</span>

<span class="w">        </span><span class="kn">proxy_buffering</span><span class="w"> </span><span class="no">off</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="multiple-geo-blocks">Multiple geo blocks<a class="headerlink" href="#multiple-geo-blocks" title="Permanent link">¶</a></h3>
<p>If you host several websites and want a different country block just add another with a different variable name. e.g. <strong><code>$allowed_country2</code></strong>:</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="c1"># GEO IP BLOCK DOMAIN 2</span>
<span class="w">  </span><span class="k">map</span><span class="w"> </span><span class="nv">$geoip2_data_country_iso_code</span><span class="w"> </span><span class="nv">$allowed_country2</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="kn">default</span><span class="w"> </span><span class="s">yes</span><span class="p">;</span>
<span class="w">    </span><span class="kn">CN</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#China</span>
<span class="w">    </span><span class="kn">RU</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Russia</span>
<span class="w">    </span><span class="kn">HK</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Hong Kong</span>
<span class="w">    </span><span class="kn">IN</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#India</span>
<span class="w">    </span><span class="kn">IR</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Iran</span>
<span class="w">    </span><span class="kn">VN</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Vietnam</span>
<span class="w">    </span><span class="kn">TR</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Turkey</span>
<span class="w">    </span><span class="kn">EG</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Egypt</span>
<span class="w">    </span><span class="kn">MX</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Mexico</span>
<span class="w">    </span><span class="kn">JP</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Japan</span>
<span class="w">    </span><span class="kn">KR</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#South Korea</span>
<span class="w">    </span><span class="kn">KP</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#North Korea :)</span>
<span class="w">    </span><span class="kn">PE</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Peru</span>
<span class="w">    </span><span class="kn">BR</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Brazil</span>
<span class="w">    </span><span class="kn">UA</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Ukraine</span>
<span class="w">    </span><span class="kn">ID</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Indonesia</span>
<span class="w">    </span><span class="kn">TH</span><span class="w"> </span><span class="s">no</span><span class="p">;</span><span class="w"> </span><span class="c1">#Thailand</span>
<span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>As <strong><code>default</code></strong> is set to <strong><code>yes</code></strong> it will allow every country except the country codes set to <strong><code>no</code></strong></p>
<p>And in the server block add this</p>
<div class="highlight"><pre><span></span><code><span class="c1"># COUNTRY GEO BLOCK 2</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="s">(</span><span class="nv">$allowed_country2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">no)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">return</span><span class="w"> </span><span class="mi">444</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>I made this list based on the <a href="https://www.spamhaus.org/statistics/botnet-cc/">Spamhaus</a> statistics and <a href="https://www.akamai.com/us/en/multimedia/documents/state-of-the-internet/q3-2017-state-of-the-internet-security-report.pdf">Aakamai's</a> state of the internet report.</p>
<h2 id="blocked">Blocked<a class="headerlink" href="#blocked" title="Permanent link">¶</a></h2>
<p>You can test if it worked with a VPN or do a performance test from a location that is blocked here<a href="https://www.webpagetest.org/">https://www.webpagetest.org/</a></p>
<h3 id="tip-this-database-gets-updated">TIP! This database gets updated<a class="headerlink" href="#tip-this-database-gets-updated" title="Permanent link">¶</a></h3>
<div class="admonition tip">
<p class="admonition-title">Update</p>
<p>As of 15.05.20 you can add the variable -e MAXMINDDB_LICENSE_KEY = <lisencekey> to have the container download the database and update it weekly!"</lisencekey></p>
</div>
<p>By setting up a cronjob you can easily automate the update process. I use the Unraid User Scripts plugin and set a cronjob to run every day but the GeoLite2 Country and City databases are updated on the first Tuesday of each month, so choose whatever suits your needs. Click on <strong><code>Add New Script</code></strong> → Enter the name → Click on the name of the script and then <strong><code>Edit</code></strong> <strong><code>Script</code></strong></p>
<p><a href="images/update-geoip.png"><img alt="" src="images/update-geoip.png"></a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since you need to sign up to Maxmind.com to download you need to create a licence key to be able to directly download the database</p>
</div>
<p>Go to the licence keys page and create a license key. Select <strong><code>no</code></strong> when asked if you want to use the key with geoupdate.</p>
<p>Replace XXXXXXXXXX with your license key.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>
<span class="nv">licensekey</span><span class="o">=</span><span class="s2">"XXXXXXXXXXXXX"</span>
wget<span class="w"> </span>-O<span class="w"> </span>/tmp/GeoLite2-City.tar.gz<span class="w"> </span><span class="s2">"https://download.maxmind.com/app/geoip_download?edition_id=GeoLite2-City&amp;license_key=</span><span class="si">${</span><span class="nv">licensekey</span><span class="si">}</span><span class="s2">&amp;suffix=tar.gz"</span>
tar<span class="w"> </span>-xvf<span class="w"> </span>/tmp/GeoLite2-City.tar.gz<span class="w"> </span>-C<span class="w"> </span>/tmp/<span class="w"> </span>--wildcards<span class="w"> </span><span class="s2">"*.mmdb"</span><span class="w"> </span>--strip<span class="w"> </span><span class="m">1</span>
mv<span class="w"> </span>/tmp/GeoLite2-City.mmdb<span class="w"> </span>/mnt/user/appdata/swag/geolite2/
chown<span class="w"> </span><span class="m">911</span>:911<span class="w"> </span>/mnt/user/appdata/letsencrypt/geolite2/GeoLite2-City.mmdb
</code></pre></div>
<p>Set the schedule to <strong>Schedule Daily</strong> or whenever you'd like.</p>
<p><a href="images/geoip-1-1024x55.png"><img alt="" src="images/geoip-1-1024x55.png"></a></p>
<p>Click <strong><code>Run In Background</code></strong> and then <strong><code>Apply</code></strong></p>
<h2 id="cloudflare">Cloudflare<a class="headerlink" href="#cloudflare" title="Permanent link">¶</a></h2>
<div class="admonition info">
<p class="admonition-title">Update: cloudflare_real-ip - Docker mod for SWAG</p>
<p>Check out the docker mod <a href="https://github.com/linuxserver/docker-mods/tree/swag-cloudflare-real-ip">https://github.com/linuxserver/docker-mods/tree/swag-cloudflare-real-ip</a> This mod adds a startup scipt that gets the IP's from Cloudflares edge servers, and formats them in a format Nginx can use with <code>set_real_ip_from</code>.</p>
</div>
<p>If you use Cloudflare you will need to add the following in nginx so that it won't block the Cloudflare IP but the actual IP of the visitor. If you don't do this you will get false positives.</p>
<p>Add the following section to your<code>nginx.conf</code> file found in <strong><code>appdata/swag/nginx/</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">103</span><span class="s">.21.244.0/22</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">103</span><span class="s">.22.200.0/22</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">103</span><span class="s">.31.4.0/22</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">104</span><span class="s">.16.0.0/13</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">104</span><span class="s">.24.0.0/14</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">108</span><span class="s">.162.192.0/18</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">131</span><span class="s">.0.72.0/22</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">141</span><span class="s">.101.64.0/18</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">162</span><span class="s">.158.0.0/15</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">172</span><span class="s">.64.0.0/13</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">173</span><span class="s">.245.48.0/20</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">188</span><span class="s">.114.96.0/20</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">190</span><span class="s">.93.240.0/20</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">197</span><span class="s">.234.240.0/22</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">198</span><span class="s">.41.128.0/17</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">2400</span><span class="p">:</span><span class="s">cb00::/32</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="n">2606</span><span class="p">:</span><span class="mi">4700</span><span class="p">::</span><span class="s">/32</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">2803</span><span class="p">:</span><span class="s">f800::/32</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="mi">2405</span><span class="p">:</span><span class="s">b500::/32</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="n">2405</span><span class="p">:</span><span class="mi">8100</span><span class="p">::</span><span class="s">/32</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="s">2c0f:f248::/32</span><span class="p">;</span>
<span class="k">set_real_ip_from</span><span class="w"> </span><span class="n">2a06</span><span class="p">:</span><span class="mi">98</span><span class="s">c0::/29</span><span class="p">;</span>

<span class="k">real_ip_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="p">;</span>
</code></pre></div>
<p>You can set it up as an include like this too:</p>
<div class="highlight"><pre><span></span><code><span class="c1">##</span>
<span class="c1"># CF Real IP</span>
<span class="c1">##</span>
<span class="k">include</span><span class="w"> </span><span class="n">/config/nginx/cf_real-ip.conf</span>;
<span class="k">real_ip_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="p">;</span>
</code></pre></div>
<p>After that you need to restart the swag container for the changes to take effect.</p>
<h2 id="automatically-updating-the-cf_real-ipconf">Automatically updating the cf_real-ip.conf<a class="headerlink" href="#automatically-updating-the-cf_real-ipconf" title="Permanent link">¶</a></h2>
<p>Tronyx over at the discord forums graciously shared his script for updating the Cloudflare ip list. This list is not static and Cloudflare updates it once in a while.</p>
<p>The script below will update the list with any changes in the list of IPs from CF</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env bash</span>

curl<span class="w"> </span>-s<span class="w"> </span><span class="s1">'https://www.cloudflare.com/ips-v4'</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/cf.txt
curl<span class="w"> </span>-s<span class="w"> </span><span class="s1">'https://www.cloudflare.com/ips-v6'</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>/tmp/cf.txt

sed<span class="w"> </span><span class="s1">'s/^/set_real_ip_from /'</span><span class="w"> </span>/tmp/cf.txt<span class="w"> </span>&gt;<span class="w"> </span>/tmp/cf2.txt

sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">'s/$/;/'</span><span class="w"> </span>/tmp/cf2.txt<span class="w"> </span>&gt;<span class="w"> </span>/home/swag/config/nginx/cf_real-ip.conf
</code></pre></div>
<p>I use unraid so I will use the User Scripts plugin to setup a cronjob that will run once a week.</p>
<ol>
<li>Go to Settings &gt; User Scripts and click <strong><code>Add New Script</code></strong></li>
<li>Give it a name and a description if you want</li>
<li>Click edit script and add it inside the box.</li>
<li>You will need to update the path in the last line to you nginx appdata folder</li>
<li>Set the schedule to weekly and click apply and done.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
curl<span class="w"> </span>-s<span class="w"> </span><span class="s1">'https://www.cloudflare.com/ips-v4'</span><span class="w"> </span>&gt;<span class="w"> </span>/tmp/cf.txt
curl<span class="w"> </span>-s<span class="w"> </span><span class="s1">'https://www.cloudflare.com/ips-v6'</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>/tmp/cf.txt

sed<span class="w"> </span><span class="s1">'s/^/set_real_ip_from /'</span><span class="w"> </span>/tmp/cf.txt<span class="w"> </span>&gt;<span class="w"> </span>/tmp/cf2.txt

sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">'s/$/;/'</span><span class="w"> </span>/tmp/cf2.txt<span class="w"> </span>&gt;<span class="w"> </span>/mnt/user/appdata/swag/nginx/cf_real-ip.conf
</code></pre></div>
<h3 id="if-you-need-any-extra-help-join-the-discord-server">If you need any extra help join the Discord server<a class="headerlink" href="#if-you-need-any-extra-help-join-the-discord-server" title="Permanent link">¶</a></h3>
<h4 id="_1"><a href="https://discord.gg/HM5uUKU"><img alt="" src="https://img.shields.io/discord/591352397830553601.svg?style=for-the-badge&amp;logo=discord" title="technicalramblings/theme.park!"></a><a class="headerlink" href="#_1" title="Permanent link">¶</a></h4>
<p>Souce: <a href="https://github.com/leev/ngx_http_geoip2_module">https://github.com/leev/ngx_http_geoip2_module</a> <a href="https://dev.maxmind.com/geoip/legacy/install/country/">https://dev.maxmind.com/geoip/legacy/install/country/</a> <a href="http://dev.maxmind.com/geoip/legacy/codes/iso3166/">http://dev.maxmind.com/geoip/legacy/codes/iso3166/</a> <a href="https://www.howtoforge.com/nginx-how-to-block-visitors-by-country-with-the-geoip-module-debian-ubuntu">https://www.howtoforge.com/nginx-how-to-block-visitors-by-country-with-the-geoip-module-debian-ubuntu</a> <a href="https://www.spamhaus.org/statistics/botnet-cc/">https://www.spamhaus.org/statistics/botnet-cc/</a> <a href="https://www.akamai.com/us/en/multimedia/documents/state-of-the-internet/q3-2017-state-of-the-internet-security-report.pdf">https://www.akamai.com/us/en/multimedia/documents/state-of-the-internet/q3-2017-state-of-the-internet-security-report.pdf</a></p></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 18, 2021</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/sponsors/GilbN" target="_blank" rel="noopener" title="Donate" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m47.6 300.4 180.7 168.7c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9l180.7-168.7c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141-45.6-7.6-92 7.3-124.6 39.9l-12 12-12-12c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://docs.theme-park.dev/discord" target="_blank" rel="noopener" title="Discord" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/users/GilbN/packages/container/package/theme.park" target="_blank" rel="noopener" title="Docker" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/gilbn" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>